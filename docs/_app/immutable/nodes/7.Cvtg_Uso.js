import{s as te,n as At,l as rn,m as So,o as Mn,h as zo,k as bn,a as Bn,e as Er}from"../chunks/scheduler.CrsDffe0.js";import{S as ee,i as ne,r as on,j as E,k as b,l as kn,o as Tn,e as q,s as Z,f as V,n as ot,h as G,v as P,p as et,q as Ni,t as pt,x as No,b as _t,u as Do,E as Ur,F as Cn,c as Mt,G as $n,a as bt,m as kt,A as pe,d as Tt,g as nt,w as lr}from"../chunks/index.DSWBlzAv.js";import{g as Eo,a as Fr}from"../chunks/spread.CgU5AtxT.js";import{P as Uo}from"../chunks/Page.DQ-SrjRT.js";import{b as wt}from"../chunks/paths.BHf0KZAH.js";import{p as Ee}from"../chunks/metadata.B9F_xtm7.js";import{c as Xn,e as Hr,u as Fo,d as Ho}from"../chunks/Footer.CLvRh6qw.js";import{f as Ir}from"../chunks/index.B3vy_Lio.js";function Io(t){let e;return{c(){e=kn("INCORRECTO: REVISA EL PID | INCORRECT: CHECK THE PID OF THE IMAGE")},l(n){e=Tn(n,"INCORRECTO: REVISA EL PID | INCORRECT: CHECK THE PID OF THE IMAGE")},m(n,r){E(n,e,r)},p:At,d(n){n&&b(e)}}}function Lo(t){let e,n,r,i,o,a,s,l,u=t[4].label+"",c,h,f,m=t[1]&&Lr(t);return{c(){e=q("div"),n=q("a"),r=q("img"),s=Z(),l=q("a"),c=kn(u),f=Z(),m&&m.c(),this.h()},l(d){e=V(d,"DIV",{class:!0});var _=ot(e);n=V(_,"A",{href:!0});var C=ot(n);r=V(C,"IMG",{src:!0,title:!0,alt:!0,class:!0}),C.forEach(b),s=G(_),l=V(_,"A",{class:!0,href:!0});var w=ot(l);c=Tn(w,u),w.forEach(b),f=G(_),m&&m.l(_),_.forEach(b),this.h()},h(){rn(r.src,i=wt+"/iiif/"+t[0]+"/"+(t[3]-1)+"/full/512,/0/default.jpg")||P(r,"src",i),P(r,"title",t[1]),P(r,"alt",o=t[2]===""?t[1]:t[2]),P(r,"class","svelte-iswlra"),P(n,"href",a=wt+"/pages/"+t[0]),P(l,"class","silent-link"),P(l,"href",h=wt+"/pages/"+t[0]),P(e,"class","preview-item svelte-iswlra")},m(d,_){E(d,e,_),et(e,n),et(n,r),et(e,s),et(e,l),et(l,c),et(e,f),m&&m.m(e,null)},p(d,_){_&9&&!rn(r.src,i=wt+"/iiif/"+d[0]+"/"+(d[3]-1)+"/full/512,/0/default.jpg")&&P(r,"src",i),_&2&&P(r,"title",d[1]),_&6&&o!==(o=d[2]===""?d[1]:d[2])&&P(r,"alt",o),_&1&&a!==(a=wt+"/pages/"+d[0])&&P(n,"href",a),_&1&&h!==(h=wt+"/pages/"+d[0])&&P(l,"href",h),d[1]?m?m.p(d,_):(m=Lr(d),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(d){d&&b(e),m&&m.d()}}}function Lr(t){let e,n,r;return{c(){e=q("p"),n=q("em"),r=kn(t[1])},l(i){e=V(i,"P",{});var o=ot(e);n=V(o,"EM",{});var a=ot(n);r=Tn(a,t[1]),a.forEach(b),o.forEach(b)},m(i,o){E(i,e,o),et(e,n),et(n,r)},p(i,o){o&2&&Ni(r,i[1])},d(i){i&&b(e)}}}function Ro(t){let e;function n(o,a){return o[4]&&Xn.pages.iiifViewer?Lo:Io}let i=n(t)(t);return{c(){i.c(),e=on()},l(o){i.l(o),e=on()},m(o,a){i.m(o,a),E(o,e,a)},p(o,[a]){i.p(o,a)},i:At,o:At,d(o){o&&b(e),i.d(o)}}}function Yo(t,e,n){let{pid:r}=e,{title:i=""}=e,{alt:o=""}=e,{page:a=1}=e,s=Ee.find(l=>l.pid===r);return s!==void 0&&s.label,t.$$set=l=>{"pid"in l&&n(0,r=l.pid),"title"in l&&n(1,i=l.title),"alt"in l&&n(2,o=l.alt),"page"in l&&n(3,a=l.page)},[r,i,o,a,s]}class Be extends ee{constructor(e){super(),ne(this,e,Yo,Ro,te,{pid:0,title:1,alt:2,page:3})}}function se(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Di(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cr(t){let e,n,r;t.length!==2?(e=se,n=(s,l)=>se(t(s),l),r=(s,l)=>t(s)-l):(e=t===se||t===Di?t:Po,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function Po(){return 0}function Oo(t){return t===null?NaN:+t}function*qo(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Vo=cr(se),Ei=Vo.right;cr(Oo).center;function Ui(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function $e(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Zn extends Map{constructor(e,n=Xo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Rr(this,e))}has(e){return super.has(Rr(this,e))}set(e,n){return super.set(Wo(this,e),n)}delete(e){return super.delete(Bo(this,e))}}function Rr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xo(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zo(t){return t}function Go(t,e,...n){return Ko(t,Array.from,e,n)}function Ko(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Zn,l=r[a++];let u=-1;for(const c of o){const h=l(c,++u,o),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,a));return e(s)}(t,0)}function Qo(t=se){if(t===se)return Fi;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Fi(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var Jo=Array.prototype,jo=Jo.slice;function En(t){return()=>t}const ta=Math.sqrt(50),ea=Math.sqrt(10),na=Math.sqrt(2);function an(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ta?10:o>=ea?5:o>=na?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?an(t,e,n*2):[s,l,u]}function Hi(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?an(e,t,n):an(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function ce(t,e,n){return e=+e,t=+t,n=+n,an(t,e,n)[2]}function Gn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ce(e,t,n):ce(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ra(t,e,n){let r;for(;;){const i=ce(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function ia(t){return Math.max(1,Math.ceil(Math.log(Ui(t))/Math.LN2)+1)}function oa(){var t=Zo,e=$e,n=ia;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,l,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var c=e(u),h=c[0],f=c[1],m=n(u,h,f);if(!Array.isArray(m)){const k=f,N=+m;if(e===$e&&([h,f]=ra(h,f,N)),m=Hi(h,f,N),m[0]<=h&&(l=ce(h,f,N)),m[m.length-1]>=f)if(k>=f&&e===$e){const $=ce(h,f,N);isFinite($)&&($>0?f=(Math.floor(f/$)+1)*$:$<0&&(f=(Math.ceil(f*-$)+1)/-$))}else m.pop()}for(var d=m.length,_=0,C=d;m[_]<=h;)++_;for(;m[C-1]>f;)--C;(_||C<d)&&(m=m.slice(_,C),d=C-_);var w=new Array(d+1),x;for(o=0;o<=d;++o)x=w[o]=[],x.x0=o>0?m[o-1]:h,x.x1=o<d?m[o]:f;if(isFinite(l)){if(l>0)for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&w[Math.min(d,Math.floor((s-h)/l))].push(i[o]);else if(l<0){for(o=0;o<a;++o)if((s=u[o])!=null&&h<=s&&s<=f){const k=Math.floor((h-s)*l);w[Math.min(d,k+(m[k]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&w[Ei(m,s,0,d)].push(i[o]);return w}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:En(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:En([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:En(Array.isArray(i)?jo.call(i):i),r):n},r}function un(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yr(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Ii(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Fi:Qo(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/l+f)),d=Math.min(r,Math.floor(e+(l-u)*h/l+f));Ii(t,e,m,d,i)}const o=t[e];let a=n,s=r;for(_e(t,n,e),i(t[r],o)>0&&_e(t,n,r);a<s;){for(_e(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?_e(t,n,s):(++s,_e(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function _e(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pr(t,e,n){if(t=Float64Array.from(qo(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Yr(t);if(e>=1)return un(t);var r,i=(r-1)*e,o=Math.floor(i),a=un(Ii(t,o).subarray(0,o+1)),s=Yr(t.subarray(o+1));return a+(s-a)*(i-o)}}function aa(t,e,n){const r=Ui(t),i=Pr(t,.75)-Pr(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function ua(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function sa(t){return t}var Un=1,Fn=2,Kn=3,ke=4,Or=1e-6;function la(t){return"translate("+t+",0)"}function ca(t){return"translate(0,"+t+")"}function fa(t){return e=>+t(e)}function ha(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ma(){return!this.__axis}function Li(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Un||t===ke?-1:1,c=t===ke||t===Fn?"x":"y",h=t===Un||t===Kn?la:ca;function f(m){var d=r??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):sa),C=Math.max(o,0)+s,w=e.range(),x=+w[0]+l,k=+w[w.length-1]+l,N=(e.bandwidth?ha:fa)(e.copy(),l),$=m.selection?m.selection():m,M=$.selectAll(".domain").data([null]),z=$.selectAll(".tick").data(d,e).order(),R=z.exit(),K=z.enter().append("g").attr("class","tick"),I=z.select("line"),D=z.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(K),I=I.merge(K.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),D=D.merge(K.append("text").attr("fill","currentColor").attr(c,u*C).attr("dy",t===Un?"0em":t===Kn?"0.71em":"0.32em")),m!==$&&(M=M.transition(m),z=z.transition(m),I=I.transition(m),D=D.transition(m),R=R.transition(m).attr("opacity",Or).attr("transform",function(L){return isFinite(L=N(L))?h(L+l):this.getAttribute("transform")}),K.attr("opacity",Or).attr("transform",function(L){var O=this.parentNode.__axis;return h((O&&isFinite(O=O(L))?O:N(L))+l)})),R.remove(),M.attr("d",t===ke||t===Fn?a?"M"+u*a+","+x+"H"+l+"V"+k+"H"+u*a:"M"+l+","+x+"V"+k:a?"M"+x+","+u*a+"V"+l+"H"+k+"V"+u*a:"M"+x+","+l+"H"+k),z.attr("opacity",1).attr("transform",function(L){return h(N(L)+l)}),I.attr(c+"2",u*o),D.attr(c,u*C).text(_),$.filter(ma).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Fn?"start":t===ke?"end":"middle"),$.each(function(){this.__axis=N})}return f.scale=function(m){return arguments.length?(e=m,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),f):n.slice()},f.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),f):r&&r.slice()},f.tickFormat=function(m){return arguments.length?(i=m,f):i},f.tickSize=function(m){return arguments.length?(o=a=+m,f):o},f.tickSizeInner=function(m){return arguments.length?(o=+m,f):o},f.tickSizeOuter=function(m){return arguments.length?(a=+m,f):a},f.tickPadding=function(m){return arguments.length?(s=+m,f):s},f.offset=function(m){return arguments.length?(l=+m,f):l},f}function fr(t){return Li(Kn,t)}function Ri(t){return Li(ke,t)}var da={value:()=>{}};function hr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Je(n)}function Je(t){this._=t}function ga(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Je.prototype=hr.prototype={constructor:Je,on:function(t,e){var n=this._,r=ga(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=pa(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=qr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=qr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Je(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function pa(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function qr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=da,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qn="http://www.w3.org/1999/xhtml";const Vr={svg:"http://www.w3.org/2000/svg",xhtml:Qn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function An(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Vr.hasOwnProperty(e)?{space:Vr[e],local:t}:t}function ya(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qn&&e.documentElement.namespaceURI===Qn?e.createElement(t):e.createElementNS(n,t)}}function _a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yi(t){var e=An(t);return(e.local?_a:ya)(e)}function va(){}function mr(t){return t==null?va:function(){return this.querySelector(t)}}function wa(t){typeof t!="function"&&(t=mr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new vt(r,this._parents)}function xa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ma(){return[]}function Pi(t){return t==null?Ma:function(){return this.querySelectorAll(t)}}function ba(t){return function(){return xa(t.apply(this,arguments))}}function ka(t){typeof t=="function"?t=ba(t):t=Pi(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new vt(r,i)}function Oi(t){return function(){return this.matches(t)}}function qi(t){return function(e){return e.matches(t)}}var Ta=Array.prototype.find;function Ca(t){return function(){return Ta.call(this.children,t)}}function $a(){return this.firstElementChild}function Aa(t){return this.select(t==null?$a:Ca(typeof t=="function"?t:qi(t)))}var Sa=Array.prototype.filter;function za(){return Array.from(this.children)}function Na(t){return function(){return Sa.call(this.children,t)}}function Da(t){return this.selectAll(t==null?za:Na(typeof t=="function"?t:qi(t)))}function Ea(t){typeof t!="function"&&(t=Oi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new vt(r,this._parents)}function Vi(t){return new Array(t.length)}function Ua(){return new vt(this._enter||this._groups.map(Vi),this._parents)}function sn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}sn.prototype={constructor:sn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fa(t){return function(){return t}}function Ha(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new sn(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Ia(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,h=o.length,f=new Array(c),m;for(s=0;s<c;++s)(l=e[s])&&(f[s]=m=a.call(l,l.__data__,s,e)+"",u.has(m)?i[s]=l:u.set(m,l));for(s=0;s<h;++s)m=a.call(t,o[s],s,o)+"",(l=u.get(m))?(r[s]=l,l.__data__=o[s],u.delete(m)):n[s]=new sn(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function La(t){return t.__data__}function Ra(t,e){if(!arguments.length)return Array.from(this,La);var n=e?Ia:Ha,r=this._parents,i=this._groups;typeof t!="function"&&(t=Fa(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,m=Ya(t.call(c,c&&c.__data__,u,r)),d=m.length,_=s[u]=new Array(d),C=a[u]=new Array(d),w=l[u]=new Array(f);n(c,h,_,C,w,m,e);for(var x=0,k=0,N,$;x<d;++x)if(N=_[x]){for(x>=k&&(k=x+1);!($=C[k])&&++k<d;);N._next=$||null}}return a=new vt(a,r),a._enter=s,a._exit=l,a}function Ya(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pa(){return new vt(this._exit||this._groups.map(Vi),this._parents)}function Oa(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function qa(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),m,d=0;d<h;++d)(m=u[d]||c[d])&&(f[d]=m);for(;l<i;++l)s[l]=n[l];return new vt(s,this._parents)}function Va(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Wa(t){t||(t=Ba);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new vt(i,this._parents).order()}function Ba(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Za(){return Array.from(this)}function Ga(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Ka(){let t=0;for(const e of this)++t;return t}function Qa(){return!this.node()}function Ja(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function ja(t){return function(){this.removeAttribute(t)}}function tu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eu(t,e){return function(){this.setAttribute(t,e)}}function nu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ru(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function iu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ou(t,e){var n=An(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?tu:ja:typeof e=="function"?n.local?iu:ru:n.local?nu:eu)(n,e))}function Wi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function au(t){return function(){this.style.removeProperty(t)}}function uu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function su(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function lu(t,e,n){return arguments.length>1?this.each((e==null?au:typeof e=="function"?su:uu)(t,e,n??"")):fe(this.node(),t)}function fe(t,e){return t.style.getPropertyValue(e)||Wi(t).getComputedStyle(t,null).getPropertyValue(e)}function cu(t){return function(){delete this[t]}}function fu(t,e){return function(){this[t]=e}}function hu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mu(t,e){return arguments.length>1?this.each((e==null?cu:typeof e=="function"?hu:fu)(t,e)):this.node()[t]}function Bi(t){return t.trim().split(/^|\s+/)}function dr(t){return t.classList||new Xi(t)}function Xi(t){this._node=t,this._names=Bi(t.getAttribute("class")||"")}Xi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Zi(t,e){for(var n=dr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Gi(t,e){for(var n=dr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function du(t){return function(){Zi(this,t)}}function gu(t){return function(){Gi(this,t)}}function pu(t,e){return function(){(e.apply(this,arguments)?Zi:Gi)(this,t)}}function yu(t,e){var n=Bi(t+"");if(arguments.length<2){for(var r=dr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?pu:e?du:gu)(n,e))}function _u(){this.textContent=""}function vu(t){return function(){this.textContent=t}}function wu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xu(t){return arguments.length?this.each(t==null?_u:(typeof t=="function"?wu:vu)(t)):this.node().textContent}function Mu(){this.innerHTML=""}function bu(t){return function(){this.innerHTML=t}}function ku(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Tu(t){return arguments.length?this.each(t==null?Mu:(typeof t=="function"?ku:bu)(t)):this.node().innerHTML}function Cu(){this.nextSibling&&this.parentNode.appendChild(this)}function $u(){return this.each(Cu)}function Au(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Su(){return this.each(Au)}function zu(t){var e=typeof t=="function"?t:Yi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Nu(){return null}function Du(t,e){var n=typeof t=="function"?t:Yi(t),r=e==null?Nu:typeof e=="function"?e:mr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Eu(){var t=this.parentNode;t&&t.removeChild(this)}function Uu(){return this.each(Eu)}function Fu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Iu(t){return this.select(t?Hu:Fu)}function Lu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ru(t){return function(e){t.call(this,e,this.__data__)}}function Yu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Pu(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ou(t,e,n){return function(){var r=this.__on,i,o=Ru(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function qu(t,e,n){var r=Yu(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Ou:Pu,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Ki(t,e,n){var r=Wi(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Vu(t,e){return function(){return Ki(this,t,e)}}function Wu(t,e){return function(){return Ki(this,t,e.apply(this,arguments))}}function Bu(t,e){return this.each((typeof e=="function"?Wu:Vu)(t,e))}function*Xu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Qi=[null];function vt(t,e){this._groups=t,this._parents=e}function Ue(){return new vt([[document.documentElement]],Qi)}function Zu(){return this}vt.prototype=Ue.prototype={constructor:vt,select:wa,selectAll:ka,selectChild:Aa,selectChildren:Da,filter:Ea,data:Ra,enter:Ua,exit:Pa,join:Oa,merge:qa,selection:Zu,order:Va,sort:Wa,call:Xa,nodes:Za,node:Ga,size:Ka,empty:Qa,each:Ja,attr:ou,style:lu,property:mu,classed:yu,text:xu,html:Tu,raise:$u,lower:Su,append:zu,insert:Du,remove:Uu,clone:Iu,datum:Lu,on:qu,dispatch:Bu,[Symbol.iterator]:Xu};function ft(t){return typeof t=="string"?new vt([[document.querySelector(t)]],[document.documentElement]):new vt([[t]],Qi)}function Gu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Xt(t,e){if(t=Gu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Jn={capture:!0,passive:!1};function jn(t){t.preventDefault(),t.stopImmediatePropagation()}function Ku(t){var e=t.document.documentElement,n=ft(t).on("dragstart.drag",jn,Jn);"onselectstart"in e?n.on("selectstart.drag",jn,Jn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Qu(t,e){var n=t.document.documentElement,r=ft(t).on("dragstart.drag",null);e&&(r.on("click.drag",jn,Jn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function gr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ji(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fe(){}var Ae=.7,ln=1/Ae,le="\\s*([+-]?\\d+)\\s*",Se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ju=/^#([0-9a-f]{3,8})$/,ju=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),ts=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),es=new RegExp(`^rgba\\(${le},${le},${le},${Se}\\)$`),ns=new RegExp(`^rgba\\(${zt},${zt},${zt},${Se}\\)$`),rs=new RegExp(`^hsl\\(${Se},${zt},${zt}\\)$`),is=new RegExp(`^hsla\\(${Se},${zt},${zt},${Se}\\)$`),Wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gr(Fe,Qt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Br,formatHex:Br,formatHex8:os,formatHsl:as,formatRgb:Xr,toString:Xr});function Br(){return this.rgb().formatHex()}function os(){return this.rgb().formatHex8()}function as(){return ji(this).formatHsl()}function Xr(){return this.rgb().formatRgb()}function Qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ju.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zr(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ju.exec(t))?new yt(e[1],e[2],e[3],1):(e=ts.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=es.exec(t))?Xe(e[1],e[2],e[3],e[4]):(e=ns.exec(t))?Xe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rs.exec(t))?Qr(e[1],e[2]/100,e[3]/100,1):(e=is.exec(t))?Qr(e[1],e[2]/100,e[3]/100,e[4]):Wr.hasOwnProperty(t)?Zr(Wr[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Zr(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function Xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new yt(t,e,n,r)}function us(t){return t instanceof Fe||(t=Qt(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function tr(t,e,n,r){return arguments.length===1?us(t):new yt(t,e,n,r??1)}function yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gr(yt,tr,Ji(Fe,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ae:Math.pow(Ae,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(Kt(this.r),Kt(this.g),Kt(this.b),cn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gr,formatHex:Gr,formatHex8:ss,formatRgb:Kr,toString:Kr}));function Gr(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function ss(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kr(){const t=cn(this.opacity);return`${t===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${t===1?")":`, ${t})`}`}function cn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gt(t){return t=Kt(t),(t<16?"0":"")+t.toString(16)}function Qr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $t(t,e,n,r)}function ji(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof Fe||(t=Qt(t)),!t)return new $t;if(t instanceof $t)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new $t(a,s,l,t.opacity)}function ls(t,e,n,r){return arguments.length===1?ji(t):new $t(t,e,n,r??1)}function $t(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gr($t,ls,Ji(Fe,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ae:Math.pow(Ae,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yt(Hn(t>=240?t-240:t+120,i,r),Hn(t,i,r),Hn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $t(Jr(this.h),Ze(this.s),Ze(this.l),cn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cn(this.opacity);return`${t===1?"hsl(":"hsla("}${Jr(this.h)}, ${Ze(this.s)*100}%, ${Ze(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jr(t){return t=(t||0)%360,t<0?t+360:t}function Ze(t){return Math.max(0,Math.min(1,t||0))}function Hn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pr=t=>()=>t;function cs(t,e){return function(n){return t+n*e}}function fs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hs(t){return(t=+t)==1?to:function(e,n){return n-e?fs(e,n,t):pr(isNaN(e)?n:e)}}function to(t,e){var n=e-t;return n?cs(t,n):pr(isNaN(t)?e:t)}const fn=function t(e){var n=hs(e);function r(i,o){var a=n((i=tr(i)).r,(o=tr(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=to(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function ms(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ds(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gs(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=yr(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function ps(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ct(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ys(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yr(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,In=new RegExp(er.source,"g");function _s(t){return function(){return t}}function vs(t){return function(e){return t(e)+""}}function eo(t,e){var n=er.lastIndex=In.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=er.exec(t))&&(i=In.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ct(r,i)})),n=In.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?vs(l[0].x):_s(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function yr(t,e){var n=typeof e,r;return e==null||n==="boolean"?pr(e):(n==="number"?Ct:n==="string"?(r=Qt(e))?(e=r,fn):eo:e instanceof Qt?fn:e instanceof Date?ps:ds(e)?ms:Array.isArray(e)?gs:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ys:Ct)(t,e)}function no(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var jr=180/Math.PI,nr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ro(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*jr,skewX:Math.atan(l)*jr,scaleX:a,scaleY:s}}var Ge;function ws(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nr:ro(e.a,e.b,e.c,e.d,e.e,e.f)}function xs(t){return t==null||(Ge||(Ge=document.createElementNS("http://www.w3.org/2000/svg","g")),Ge.setAttribute("transform",t),!(t=Ge.transform.baseVal.consolidate()))?nr:(t=t.matrix,ro(t.a,t.b,t.c,t.d,t.e,t.f))}function io(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,m,d){if(u!==h||c!==f){var _=m.push("translate(",null,e,null,n);d.push({i:_-4,x:Ct(u,h)},{i:_-2,x:Ct(c,f)})}else(h||f)&&m.push("translate("+h+e+f+n)}function a(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ct(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ct(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,m,d){if(u!==h||c!==f){var _=m.push(i(m)+"scale(",null,",",null,")");d.push({i:_-4,x:Ct(u,h)},{i:_-2,x:Ct(c,f)})}else(h!==1||f!==1)&&m.push(i(m)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),a(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(m){for(var d=-1,_=f.length,C;++d<_;)h[(C=f[d]).i]=C.x(m);return h.join("")}}}var Ms=io(ws,"px, ","px)","deg)"),bs=io(xs,", ",")",")"),ks=1e-12;function ti(t){return((t=Math.exp(t))+1/t)/2}function Ts(t){return((t=Math.exp(t))-1/t)/2}function Cs(t){return((t=Math.exp(2*t))-1)/(t+1)}const $s=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],h=a[1],f=a[2],m=c-s,d=h-l,_=m*m+d*d,C,w;if(_<ks)w=Math.log(f/u)/e,C=function(z){return[s+z*m,l+z*d,u*Math.exp(e*z*w)]};else{var x=Math.sqrt(_),k=(f*f-u*u+r*_)/(2*u*n*x),N=(f*f-u*u-r*_)/(2*f*n*x),$=Math.log(Math.sqrt(k*k+1)-k),M=Math.log(Math.sqrt(N*N+1)-N);w=(M-$)/e,C=function(z){var R=z*w,K=ti($),I=u/(n*x)*(K*Cs(e*R+$)-Ts($));return[s+I*m,l+I*d,u*K/ti(e*R+$)]}}return C.duration=w*1e3*e/Math.SQRT2,C}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);var he=0,Te=0,ve=0,oo=1e3,hn,Ce,mn=0,Jt=0,Sn=0,ze=typeof performance=="object"&&performance.now?performance:Date,ao=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return Jt||(ao(As),Jt=ze.now()+Sn)}function As(){Jt=0}function dn(){this._call=this._time=this._next=null}dn.prototype=uo.prototype={constructor:dn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?_r():+n)+(e==null?0:+e),!this._next&&Ce!==this&&(Ce?Ce._next=this:hn=this,Ce=this),this._call=t,this._time=n,rr()},stop:function(){this._call&&(this._call=null,this._time=1/0,rr())}};function uo(t,e,n){var r=new dn;return r.restart(t,e,n),r}function Ss(){_r(),++he;for(var t=hn,e;t;)(e=Jt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--he}function ei(){Jt=(mn=ze.now())+Sn,he=Te=0;try{Ss()}finally{he=0,Ns(),Jt=0}}function zs(){var t=ze.now(),e=t-mn;e>oo&&(Sn-=e,mn=t)}function Ns(){for(var t,e=hn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hn=n);Ce=t,rr(r)}function rr(t){if(!he){Te&&(Te=clearTimeout(Te));var e=t-Jt;e>24?(t<1/0&&(Te=setTimeout(ei,t-ze.now()-Sn)),ve&&(ve=clearInterval(ve))):(ve||(mn=ze.now(),ve=setInterval(zs,oo)),he=1,ao(ei))}}function ni(t,e,n){var r=new dn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ds=hr("start","end","cancel","interrupt"),Es=[],so=0,ri=1,ir=2,je=3,ii=4,or=5,tn=6;function zn(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Us(t,n,{name:e,index:r,group:i,on:Ds,tween:Es,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:so})}function vr(t,e){var n=St(t,e);if(n.state>so)throw new Error("too late; already scheduled");return n}function Nt(t,e){var n=St(t,e);if(n.state>je)throw new Error("too late; already running");return n}function St(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Us(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=uo(o,0,n.time);function o(u){n.state=ri,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,f,m;if(n.state!==ri)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===je)return ni(a);m.state===ii?(m.state=tn,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=tn,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(ni(function(){n.state===je&&(n.state=ii,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=ir,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ir){for(n.state=je,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=or,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===or&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=tn,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function en(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>ir&&r.state<or,r.state=tn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Fs(t){return this.each(function(){en(this,t)})}function Hs(t,e){var n,r;return function(){var i=Nt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Is(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Nt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function Ls(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=St(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Hs:Is)(n,t,e))}function wr(t,e,n){var r=t._id;return t.each(function(){var i=Nt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return St(i,r).value[e]}}function lo(t,e){var n;return(typeof e=="number"?Ct:e instanceof Qt?fn:(n=Qt(e))?(e=n,fn):eo)(t,e)}function Rs(t){return function(){this.removeAttribute(t)}}function Ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ps(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Os(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function qs(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Vs(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Ws(t,e){var n=An(t),r=n==="transform"?bs:lo;return this.attrTween(t,typeof e=="function"?(n.local?Vs:qs)(n,r,wr(this,"attr."+t,e)):e==null?(n.local?Ys:Rs)(n):(n.local?Os:Ps)(n,r,e))}function Bs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Xs(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Zs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Xs(t,o)),n}return i._value=e,i}function Gs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Bs(t,o)),n}return i._value=e,i}function Ks(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=An(t);return this.tween(n,(r.local?Zs:Gs)(r,e))}function Qs(t,e){return function(){vr(this,t).delay=+e.apply(this,arguments)}}function Js(t,e){return e=+e,function(){vr(this,t).delay=e}}function js(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qs:Js)(e,t)):St(this.node(),e).delay}function tl(t,e){return function(){Nt(this,t).duration=+e.apply(this,arguments)}}function el(t,e){return e=+e,function(){Nt(this,t).duration=e}}function nl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tl:el)(e,t)):St(this.node(),e).duration}function rl(t,e){if(typeof e!="function")throw new Error;return function(){Nt(this,t).ease=e}}function il(t){var e=this._id;return arguments.length?this.each(rl(e,t)):St(this.node(),e).ease}function ol(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Nt(this,t).ease=n}}function al(t){if(typeof t!="function")throw new Error;return this.each(ol(this._id,t))}function ul(t){typeof t!="function"&&(t=Oi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Ht(r,this._parents,this._name,this._id)}function sl(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,h=a[s]=new Array(c),f,m=0;m<c;++m)(f=l[m]||u[m])&&(h[m]=f);for(;s<r;++s)a[s]=e[s];return new Ht(a,this._parents,this._name,this._id)}function ll(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function cl(t,e,n){var r,i,o=ll(e)?vr:Nt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function fl(t,e){var n=this._id;return arguments.length<2?St(this.node(),n).on.on(t):this.each(cl(n,t,e))}function hl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ml(){return this.on("end.remove",hl(this._id))}function dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mr(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,zn(u[f],e,n,f,u,St(c,n)));return new Ht(o,this._parents,e,n)}function gl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pi(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),m,d=St(c,n),_=0,C=f.length;_<C;++_)(m=f[_])&&zn(m,e,n,_,f,d);o.push(f),a.push(c)}return new Ht(o,a,e,n)}var pl=Ue.prototype.constructor;function yl(){return new pl(this._groups,this._parents)}function _l(t,e){var n,r,i;return function(){var o=fe(this,t),a=(this.style.removeProperty(t),fe(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function co(t){return function(){this.style.removeProperty(t)}}function vl(t,e,n){var r,i=n+"",o;return function(){var a=fe(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function wl(t,e,n){var r,i,o;return function(){var a=fe(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),fe(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function xl(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=Nt(this,t),u=l.on,c=l.value[o]==null?s||(s=co(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function Ml(t,e,n){var r=(t+="")=="transform"?Ms:lo;return e==null?this.styleTween(t,_l(t,r)).on("end.style."+t,co(t)):typeof e=="function"?this.styleTween(t,wl(t,r,wr(this,"style."+t,e))).each(xl(this._id,t)):this.styleTween(t,vl(t,r,e),n).on("end.style."+t,null)}function bl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function kl(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&bl(t,a,n)),r}return o._value=e,o}function Tl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,kl(t,e,n??""))}function Cl(t){return function(){this.textContent=t}}function $l(t){return function(){var e=t(this);this.textContent=e??""}}function Al(t){return this.tween("text",typeof t=="function"?$l(wr(this,"text",t)):Cl(t==null?"":t+""))}function Sl(t){return function(e){this.textContent=t.call(this,e)}}function zl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Sl(i)),e}return r._value=t,r}function Nl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zl(t))}function Dl(){for(var t=this._name,e=this._id,n=fo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=St(l,e);zn(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ht(r,this._parents,t,n)}function El(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=Nt(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var Ul=0;function Ht(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fo(){return++Ul}var Dt=Ue.prototype;Ht.prototype={constructor:Ht,select:dl,selectAll:gl,selectChild:Dt.selectChild,selectChildren:Dt.selectChildren,filter:ul,merge:sl,selection:yl,transition:Dl,call:Dt.call,nodes:Dt.nodes,node:Dt.node,size:Dt.size,empty:Dt.empty,each:Dt.each,on:fl,attr:Ws,attrTween:Ks,style:Ml,styleTween:Tl,text:Al,textTween:Nl,remove:ml,tween:Ls,delay:js,duration:nl,ease:il,easeVarying:al,end:El,[Symbol.iterator]:Dt[Symbol.iterator]};function Fl(t){return t*(2-t)}function Hl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Il={time:null,delay:0,duration:250,ease:Hl};function Ll(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Rl(t){var e,n;t instanceof Ht?(e=t._id,t=t._name):(e=fo(),(n=Il).time=_r(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&zn(l,t,e,u,a,n||Ll(l,e));return new Ht(r,this._parents,t,e)}Ue.prototype.interrupt=Fs;Ue.prototype.transition=Rl;const ar=Math.PI,ur=2*ar,Zt=1e-6,Yl=ur-Zt;function ho(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Pl(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ho;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ol{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ho:Pl(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,h=s-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Zt)if(!(Math.abs(h*l-u*c)>Zt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,d=i-s,_=l*l+u*u,C=m*m+d*d,w=Math.sqrt(_),x=Math.sqrt(f),k=o*Math.tan((ar-Math.acos((_+f-C)/(2*w*x)))/2),N=k/x,$=k/w;Math.abs(N-1)>Zt&&this._append`L${e+N*c},${n+N*h}`,this._append`A${o},${o},0,0,${+(h*m>c*d)},${this._x1=e+$*l},${this._y1=n+$*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Zt||Math.abs(this._y1-c)>Zt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%ur+ur),f>Yl?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>Zt&&this._append`A${r},${r},0,${+(f>=ar)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ql(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function me(t){return t=gn(Math.abs(t)),t?t[1]:NaN}function Vl(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Wl(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pn(t){if(!(e=Bl.exec(t)))throw new Error("invalid format: "+t);var e;return new xr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pn.prototype=xr.prototype;function xr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xl(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mo;function Zl(t,e){var n=gn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gn(t,Math.max(0,e+o-1))[0]}function oi(t,e){var n=gn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ai={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ql,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oi(t*100,e),r:oi,s:Zl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ui(t){return t}var si=Array.prototype.map,li=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gl(t){var e=t.grouping===void 0||t.thousands===void 0?ui:Vl(si.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ui:Wl(si.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=pn(h);var f=h.fill,m=h.align,d=h.sign,_=h.symbol,C=h.zero,w=h.width,x=h.comma,k=h.precision,N=h.trim,$=h.type;$==="n"?(x=!0,$="g"):ai[$]||(k===void 0&&(k=12),N=!0,$="g"),(C||f==="0"&&m==="=")&&(C=!0,f="0",m="=");var M=_==="$"?n:_==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",z=_==="$"?r:/[%p]/.test($)?a:"",R=ai[$],K=/[defgprs%]/.test($);k=k===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function I(D){var L=M,O=z,g,A,y;if($==="c")O=R(D)+O,D="";else{D=+D;var S=D<0||1/D<0;if(D=isNaN(D)?l:R(Math.abs(D),k),N&&(D=Xl(D)),S&&+D==0&&d!=="+"&&(S=!1),L=(S?d==="("?d:s:d==="-"||d==="("?"":d)+L,O=($==="s"?li[8+mo/3]:"")+O+(S&&d==="("?")":""),K){for(g=-1,A=D.length;++g<A;)if(y=D.charCodeAt(g),48>y||y>57){O=(y===46?i+D.slice(g+1):D.slice(g))+O,D=D.slice(0,g);break}}}x&&!C&&(D=e(D,1/0));var H=L.length+D.length+O.length,U=H<w?new Array(w-H+1).join(f):"";switch(x&&C&&(D=e(U+D,U.length?w-O.length:1/0),U=""),m){case"<":D=L+D+O+U;break;case"=":D=L+U+D+O;break;case"^":D=U.slice(0,H=U.length>>1)+L+D+O+U.slice(H);break;default:D=U+L+D+O;break}return o(D)}return I.toString=function(){return h+""},I}function c(h,f){var m=u((h=pn(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(me(f)/3)))*3,_=Math.pow(10,-d),C=li[8+d/3];return function(w){return m(_*w)+C}}return{format:u,formatPrefix:c}}var Ke,go,po;Kl({thousands:",",grouping:[3],currency:["$",""]});function Kl(t){return Ke=Gl(t),go=Ke.format,po=Ke.formatPrefix,Ke}function Ql(t){return Math.max(0,-me(Math.abs(t)))}function Jl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(me(e)/3)))*3-me(Math.abs(t)))}function jl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,me(e)-me(t))+1}function tc(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function ec(){return this.eachAfter(tc)}function nc(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function rc(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function ic(t,e){for(var n=this,r=[n],i=[],o,a,s,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function oc(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function ac(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function uc(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function sc(t){for(var e=this,n=lc(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function lc(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function cc(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function fc(){return Array.from(this)}function hc(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function mc(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*dc(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Mr(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=yc)):e===void 0&&(e=pc);for(var n=new Ne(t),r,i=[n],o,a,s,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)i.push(o=a[s]=new Ne(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(vc)}function gc(){return Mr(this).eachBefore(_c)}function pc(t){return t.children}function yc(t){return Array.isArray(t)?t[1]:null}function _c(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function vc(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ne(t){this.data=t,this.depth=this.height=0,this.parent=null}Ne.prototype=Mr.prototype={constructor:Ne,count:ec,each:nc,eachAfter:ic,eachBefore:rc,find:oc,sum:ac,sort:uc,path:sc,ancestors:cc,descendants:fc,leaves:hc,links:mc,copy:gc,[Symbol.iterator]:dc};function wc(t,e){return t.parent===e.parent?1:2}function Ln(t){var e=t.children;return e?e[0]:t.t}function Rn(t){var e=t.children;return e?e[e.length-1]:t.t}function xc(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Mc(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function bc(t,e,n){return t.a.parent===e.parent?t.a:n}function nn(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}nn.prototype=Object.create(Ne.prototype);function kc(t){for(var e=new nn(t,0),n,r=[e],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new nn(o[a],a)),i.parent=n;return(e.parent=new nn(null,0)).children=[e],e}function Tc(){var t=wc,e=1,n=1,r=null;function i(u){var c=kc(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(l);else{var h=u,f=u,m=u;u.eachBefore(function(x){x.x<h.x&&(h=x),x.x>f.x&&(f=x),x.depth>m.depth&&(m=x)});var d=h===f?1:t(h,f)/2,_=d-h.x,C=e/(f.x+d+_),w=n/(m.depth||1);u.eachBefore(function(x){x.x=(x.x+_)*C,x.y=x.depth*w})}return u}function o(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){Mc(u);var m=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-m):u.z=m}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,m=u,d=c,_=f.parent.children[0],C=f.m,w=m.m,x=d.m,k=_.m,N;d=Rn(d),f=Ln(f),d&&f;)_=Ln(_),m=Rn(m),m.a=u,N=d.z+x-f.z-C+t(d._,f._),N>0&&(xc(bc(d,u,h),u,N),C+=N,w+=N),x+=d.m,C+=f.m,k+=_.m,w+=m.m;d&&!Rn(m)&&(m.t=d,m.m+=x-w),f&&!Ln(_)&&(_.t=f,_.m+=C-k,h=u)}return h}function l(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function Nn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const ci=Symbol("implicit");function yo(){var t=new Zn,e=[],n=[],r=ci;function i(o){let a=t.get(o);if(a===void 0){if(r!==ci)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Zn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yo(e,n).unknown(r)},Nn.apply(i,arguments),i}function _o(){var t=yo().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,m=i<r,d=m?i:r,_=m?r:i;o=(_-d)/Math.max(1,f-l+u*2),s&&(o=Math.floor(o)),d+=(_-d-o*(f-l))*c,a=o*(1-l),s&&(d=Math.round(d),a=Math.round(a));var C=ua(f).map(function(w){return d+o*w});return n(m?C.reverse():C)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return _o(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Nn.apply(h(),arguments)}function Cc(t){return function(){return t}}function $c(t){return+t}var fi=[0,1];function ae(t){return t}function sr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Cc(isNaN(e)?NaN:.5)}function Ac(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Sc(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=sr(i,r),o=n(a,o)):(r=sr(r,i),o=n(o,a)),function(s){return o(r(s))}}function zc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=sr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ei(t,s,1,r)-1;return o[l](i[l](s))}}function vo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nc(){var t=fi,e=fi,n=yr,r,i,o,a=ae,s,l,u;function c(){var f=Math.min(t.length,e.length);return a!==ae&&(a=Ac(t[0],t[f-1])),s=f>2?zc:Sc,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=s(e,t.map(r),Ct)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,$c),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=no,c()},h.clamp=function(f){return arguments.length?(a=f?!0:ae,c()):a!==ae},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,m){return r=f,i=m,c()}}function wo(){return Nc()(ae,ae)}function Dc(t,e,n,r){var i=Gn(t,e,n),o;switch(r=pn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Jl(i,a))&&(r.precision=o),po(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jl(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ql(i))&&(r.precision=o-(r.type==="%")*2);break}}return go(r)}function Ec(t){var e=t.domain;return t.ticks=function(n){var r=e();return Hi(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Dc(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=ce(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function yn(){var t=wo();return t.copy=function(){return vo(t,yn())},Nn.apply(t,arguments),Ec(t)}function Uc(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}const Yn=new Date,Pn=new Date;function at(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>at(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Yn.setTime(+o),Pn.setTime(+a),t(Yn),t(Pn),Math.floor(n(Yn,Pn))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _n=at(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_n.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?at(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_n);_n.range;const Et=1e3,xt=Et*60,Ut=xt*60,It=Ut*24,br=It*7,hi=It*30,On=It*365,ue=at(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Et)},(t,e)=>(e-t)/Et,t=>t.getUTCSeconds());ue.range;const kr=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Et)},(t,e)=>{t.setTime(+t+e*xt)},(t,e)=>(e-t)/xt,t=>t.getMinutes());kr.range;const Fc=at(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xt)},(t,e)=>(e-t)/xt,t=>t.getUTCMinutes());Fc.range;const Tr=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Et-t.getMinutes()*xt)},(t,e)=>{t.setTime(+t+e*Ut)},(t,e)=>(e-t)/Ut,t=>t.getHours());Tr.range;const Hc=at(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ut)},(t,e)=>(e-t)/Ut,t=>t.getUTCHours());Hc.range;const He=at(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xt)/It,t=>t.getDate()-1);He.range;const Cr=at(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/It,t=>t.getUTCDate()-1);Cr.range;const Ic=at(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/It,t=>Math.floor(t/It));Ic.range;function re(t){return at(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xt)/br)}const Dn=re(0),vn=re(1),Lc=re(2),Rc=re(3),de=re(4),Yc=re(5),Pc=re(6);Dn.range;vn.range;Lc.range;Rc.range;de.range;Yc.range;Pc.range;function ie(t){return at(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/br)}const xo=ie(0),wn=ie(1),Oc=ie(2),qc=ie(3),ge=ie(4),Vc=ie(5),Wc=ie(6);xo.range;wn.range;Oc.range;qc.range;ge.range;Vc.range;Wc.range;const $r=at(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$r.range;const Bc=at(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Bc.range;const Lt=at(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Lt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:at(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Lt.range;const jt=at(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:at(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});jt.range;function Xc(t,e,n,r,i,o){const a=[[ue,1,Et],[ue,5,5*Et],[ue,15,15*Et],[ue,30,30*Et],[o,1,xt],[o,5,5*xt],[o,15,15*xt],[o,30,30*xt],[i,1,Ut],[i,3,3*Ut],[i,6,6*Ut],[i,12,12*Ut],[r,1,It],[r,2,2*It],[n,1,br],[e,1,hi],[e,3,3*hi],[t,1,On]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const m=h&&typeof h.range=="function"?h:l(u,c,h),d=m?m.range(u,+c+1):[];return f?d.reverse():d}function l(u,c,h){const f=Math.abs(c-u)/h,m=cr(([,,C])=>C).right(a,f);if(m===a.length)return t.every(Gn(u/On,c/On,h));if(m===0)return _n.every(Math.max(Gn(u,c,h),1));const[d,_]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return d.every(_)}return[s,l]}const[Zc,Gc]=Xc(Lt,$r,Dn,He,Tr,kr);function qn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function we(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Kc(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=xe(i),c=Me(i),h=xe(o),f=Me(o),m=xe(a),d=Me(a),_=xe(s),C=Me(s),w=xe(l),x=Me(l),k={a:S,A:H,b:U,B:Y,c:null,d:_i,e:_i,f:wf,g:zf,G:Df,H:yf,I:_f,j:vf,L:Mo,m:xf,M:Mf,p:X,q:tt,Q:xi,s:Mi,S:bf,u:kf,U:Tf,V:Cf,w:$f,W:Af,x:null,X:null,y:Sf,Y:Nf,Z:Ef,"%":wi},N={a:lt,A:j,b:ht,B:mt,c:null,d:vi,e:vi,f:If,g:Xf,G:Gf,H:Uf,I:Ff,j:Hf,L:ko,m:Lf,M:Rf,p:rt,q:dt,Q:xi,s:Mi,S:Yf,u:Pf,U:Of,V:qf,w:Vf,W:Wf,x:null,X:null,y:Bf,Y:Zf,Z:Kf,"%":wi},$={a:I,A:D,b:L,B:O,c:g,d:pi,e:pi,f:mf,g:gi,G:di,H:yi,I:yi,j:lf,L:hf,m:sf,M:cf,p:K,q:uf,Q:gf,s:pf,S:ff,u:ef,U:nf,V:rf,w:tf,W:of,x:A,X:y,y:gi,Y:di,Z:af,"%":df};k.x=M(n,k),k.X=M(r,k),k.c=M(e,k),N.x=M(n,N),N.X=M(r,N),N.c=M(e,N);function M(T,W){return function(B){var v=[],ct=-1,J=0,it=T.length,ut,gt,ye;for(B instanceof Date||(B=new Date(+B));++ct<it;)T.charCodeAt(ct)===37&&(v.push(T.slice(J,ct)),(gt=mi[ut=T.charAt(++ct)])!=null?ut=T.charAt(++ct):gt=ut==="e"?" ":"0",(ye=W[ut])&&(ut=ye(B,gt)),v.push(ut),J=ct+1);return v.push(T.slice(J,ct)),v.join("")}}function z(T,W){return function(B){var v=we(1900,void 0,1),ct=R(v,T,B+="",0),J,it;if(ct!=B.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(W&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(J=Vn(we(v.y,0,1)),it=J.getUTCDay(),J=it>4||it===0?wn.ceil(J):wn(J),J=Cr.offset(J,(v.V-1)*7),v.y=J.getUTCFullYear(),v.m=J.getUTCMonth(),v.d=J.getUTCDate()+(v.w+6)%7):(J=qn(we(v.y,0,1)),it=J.getDay(),J=it>4||it===0?vn.ceil(J):vn(J),J=He.offset(J,(v.V-1)*7),v.y=J.getFullYear(),v.m=J.getMonth(),v.d=J.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),it="Z"in v?Vn(we(v.y,0,1)).getUTCDay():qn(we(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(it+5)%7:v.w+v.U*7-(it+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,Vn(v)):qn(v)}}function R(T,W,B,v){for(var ct=0,J=W.length,it=B.length,ut,gt;ct<J;){if(v>=it)return-1;if(ut=W.charCodeAt(ct++),ut===37){if(ut=W.charAt(ct++),gt=$[ut in mi?W.charAt(ct++):ut],!gt||(v=gt(T,B,v))<0)return-1}else if(ut!=B.charCodeAt(v++))return-1}return v}function K(T,W,B){var v=u.exec(W.slice(B));return v?(T.p=c.get(v[0].toLowerCase()),B+v[0].length):-1}function I(T,W,B){var v=m.exec(W.slice(B));return v?(T.w=d.get(v[0].toLowerCase()),B+v[0].length):-1}function D(T,W,B){var v=h.exec(W.slice(B));return v?(T.w=f.get(v[0].toLowerCase()),B+v[0].length):-1}function L(T,W,B){var v=w.exec(W.slice(B));return v?(T.m=x.get(v[0].toLowerCase()),B+v[0].length):-1}function O(T,W,B){var v=_.exec(W.slice(B));return v?(T.m=C.get(v[0].toLowerCase()),B+v[0].length):-1}function g(T,W,B){return R(T,e,W,B)}function A(T,W,B){return R(T,n,W,B)}function y(T,W,B){return R(T,r,W,B)}function S(T){return a[T.getDay()]}function H(T){return o[T.getDay()]}function U(T){return l[T.getMonth()]}function Y(T){return s[T.getMonth()]}function X(T){return i[+(T.getHours()>=12)]}function tt(T){return 1+~~(T.getMonth()/3)}function lt(T){return a[T.getUTCDay()]}function j(T){return o[T.getUTCDay()]}function ht(T){return l[T.getUTCMonth()]}function mt(T){return s[T.getUTCMonth()]}function rt(T){return i[+(T.getUTCHours()>=12)]}function dt(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var W=M(T+="",k);return W.toString=function(){return T},W},parse:function(T){var W=z(T+="",!1);return W.toString=function(){return T},W},utcFormat:function(T){var W=M(T+="",N);return W.toString=function(){return T},W},utcParse:function(T){var W=z(T+="",!0);return W.toString=function(){return T},W}}}var mi={"-":"",_:" ",0:"0"},st=/^\s*\d+/,Qc=/^%/,Jc=/[\\^$*+?|[\]().{}]/g;function Q(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function jc(t){return t.replace(Jc,"\\$&")}function xe(t){return new RegExp("^(?:"+t.map(jc).join("|")+")","i")}function Me(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tf(t,e,n){var r=st.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ef(t,e,n){var r=st.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nf(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rf(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function of(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function di(t,e,n){var r=st.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gi(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function af(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uf(t,e,n){var r=st.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function sf(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pi(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lf(t,e,n){var r=st.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yi(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cf(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ff(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hf(t,e,n){var r=st.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mf(t,e,n){var r=st.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function df(t,e,n){var r=Qc.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gf(t,e,n){var r=st.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pf(t,e,n){var r=st.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _i(t,e){return Q(t.getDate(),e,2)}function yf(t,e){return Q(t.getHours(),e,2)}function _f(t,e){return Q(t.getHours()%12||12,e,2)}function vf(t,e){return Q(1+He.count(Lt(t),t),e,3)}function Mo(t,e){return Q(t.getMilliseconds(),e,3)}function wf(t,e){return Mo(t,e)+"000"}function xf(t,e){return Q(t.getMonth()+1,e,2)}function Mf(t,e){return Q(t.getMinutes(),e,2)}function bf(t,e){return Q(t.getSeconds(),e,2)}function kf(t){var e=t.getDay();return e===0?7:e}function Tf(t,e){return Q(Dn.count(Lt(t)-1,t),e,2)}function bo(t){var e=t.getDay();return e>=4||e===0?de(t):de.ceil(t)}function Cf(t,e){return t=bo(t),Q(de.count(Lt(t),t)+(Lt(t).getDay()===4),e,2)}function $f(t){return t.getDay()}function Af(t,e){return Q(vn.count(Lt(t)-1,t),e,2)}function Sf(t,e){return Q(t.getFullYear()%100,e,2)}function zf(t,e){return t=bo(t),Q(t.getFullYear()%100,e,2)}function Nf(t,e){return Q(t.getFullYear()%1e4,e,4)}function Df(t,e){var n=t.getDay();return t=n>=4||n===0?de(t):de.ceil(t),Q(t.getFullYear()%1e4,e,4)}function Ef(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Q(e/60|0,"0",2)+Q(e%60,"0",2)}function vi(t,e){return Q(t.getUTCDate(),e,2)}function Uf(t,e){return Q(t.getUTCHours(),e,2)}function Ff(t,e){return Q(t.getUTCHours()%12||12,e,2)}function Hf(t,e){return Q(1+Cr.count(jt(t),t),e,3)}function ko(t,e){return Q(t.getUTCMilliseconds(),e,3)}function If(t,e){return ko(t,e)+"000"}function Lf(t,e){return Q(t.getUTCMonth()+1,e,2)}function Rf(t,e){return Q(t.getUTCMinutes(),e,2)}function Yf(t,e){return Q(t.getUTCSeconds(),e,2)}function Pf(t){var e=t.getUTCDay();return e===0?7:e}function Of(t,e){return Q(xo.count(jt(t)-1,t),e,2)}function To(t){var e=t.getUTCDay();return e>=4||e===0?ge(t):ge.ceil(t)}function qf(t,e){return t=To(t),Q(ge.count(jt(t),t)+(jt(t).getUTCDay()===4),e,2)}function Vf(t){return t.getUTCDay()}function Wf(t,e){return Q(wn.count(jt(t)-1,t),e,2)}function Bf(t,e){return Q(t.getUTCFullYear()%100,e,2)}function Xf(t,e){return t=To(t),Q(t.getUTCFullYear()%100,e,2)}function Zf(t,e){return Q(t.getUTCFullYear()%1e4,e,4)}function Gf(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ge(t):ge.ceil(t),Q(t.getUTCFullYear()%1e4,e,4)}function Kf(){return"+0000"}function wi(){return"%"}function xi(t){return+t}function Mi(t){return Math.floor(+t/1e3)}var oe,xn;Qf({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qf(t){return oe=Kc(t),xn=oe.format,oe.parse,oe.utcFormat,oe.utcParse,oe}function Jf(t){return new Date(t)}function jf(t){return t instanceof Date?+t:+new Date(+t)}function Co(t,e,n,r,i,o,a,s,l,u){var c=wo(),h=c.invert,f=c.domain,m=u(".%L"),d=u(":%S"),_=u("%I:%M"),C=u("%I %p"),w=u("%a %d"),x=u("%b %d"),k=u("%B"),N=u("%Y");function $(M){return(l(M)<M?m:s(M)<M?d:a(M)<M?_:o(M)<M?C:r(M)<M?i(M)<M?w:x:n(M)<M?k:N)(M)}return c.invert=function(M){return new Date(h(M))},c.domain=function(M){return arguments.length?f(Array.from(M,jf)):f().map(Jf)},c.ticks=function(M){var z=f();return t(z[0],z[z.length-1],M??10)},c.tickFormat=function(M,z){return z==null?$:u(z)},c.nice=function(M){var z=f();return(!M||typeof M.range!="function")&&(M=e(z[0],z[z.length-1],M??10)),M?f(Uc(z,M)):c},c.copy=function(){return vo(c,Co(t,e,n,r,i,o,a,s,l,u))},c}function th(){return Nn.apply(Co(Zc,Gc,Lt,$r,Dn,He,Tr,kr,ue,xn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bi(t){return function(){return t}}function eh(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ol(e)}var nh=Array.prototype.slice;function rh(t){return t[0]}function ih(t){return t[1]}class oh{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ah(t){return new oh(t,!0)}function uh(t){return t.source}function sh(t){return t.target}function lh(t){let e=uh,n=sh,r=rh,i=ih,o=null,a=null,s=eh(l);function l(){let u;const c=nh.call(arguments),h=e.apply(this,c),f=n.apply(this,c);if(o==null&&(a=t(u=s())),a.lineStart(),c[0]=h,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:bi(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:bi(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),l):o},l}const Qe=t=>()=>t;function ch(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ft(t,e,n){this.k=t,this.x=e,this.y=n}Ft.prototype={constructor:Ft,scale:function(t){return t===1?this:new Ft(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ft(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var De=new Ft(1,0,0);$o.prototype=Ft.prototype;function $o(t){for(;!t.__zoom;)if(!(t=t.parentNode))return De;return t.__zoom}function Wn(t){t.stopImmediatePropagation()}function be(t){t.preventDefault(),t.stopImmediatePropagation()}function fh(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function hh(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ki(){return this.__zoom||De}function mh(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function dh(){return navigator.maxTouchPoints||"ontouchstart"in this}function gh(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ph(){var t=fh,e=hh,n=gh,r=mh,i=dh,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=$s,u=hr("start","zoom","end"),c,h,f,m=500,d=150,_=0,C=10;function w(g){g.property("__zoom",ki).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",K).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(g,A,y,S){var H=g.selection?g.selection():g;H.property("__zoom",ki),g!==H?$(g,A,y,S):H.interrupt().each(function(){M(this,arguments).event(S).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},w.scaleBy=function(g,A,y,S){w.scaleTo(g,function(){var H=this.__zoom.k,U=typeof A=="function"?A.apply(this,arguments):A;return H*U},y,S)},w.scaleTo=function(g,A,y,S){w.transform(g,function(){var H=e.apply(this,arguments),U=this.__zoom,Y=y==null?N(H):typeof y=="function"?y.apply(this,arguments):y,X=U.invert(Y),tt=typeof A=="function"?A.apply(this,arguments):A;return n(k(x(U,tt),Y,X),H,a)},y,S)},w.translateBy=function(g,A,y,S){w.transform(g,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof y=="function"?y.apply(this,arguments):y),e.apply(this,arguments),a)},null,S)},w.translateTo=function(g,A,y,S,H){w.transform(g,function(){var U=e.apply(this,arguments),Y=this.__zoom,X=S==null?N(U):typeof S=="function"?S.apply(this,arguments):S;return n(De.translate(X[0],X[1]).scale(Y.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof y=="function"?-y.apply(this,arguments):-y),U,a)},S,H)};function x(g,A){return A=Math.max(o[0],Math.min(o[1],A)),A===g.k?g:new Ft(A,g.x,g.y)}function k(g,A,y){var S=A[0]-y[0]*g.k,H=A[1]-y[1]*g.k;return S===g.x&&H===g.y?g:new Ft(g.k,S,H)}function N(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function $(g,A,y,S){g.on("start.zoom",function(){M(this,arguments).event(S).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(S).end()}).tween("zoom",function(){var H=this,U=arguments,Y=M(H,U).event(S),X=e.apply(H,U),tt=y==null?N(X):typeof y=="function"?y.apply(H,U):y,lt=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),j=H.__zoom,ht=typeof A=="function"?A.apply(H,U):A,mt=l(j.invert(tt).concat(lt/j.k),ht.invert(tt).concat(lt/ht.k));return function(rt){if(rt===1)rt=ht;else{var dt=mt(rt),T=lt/dt[2];rt=new Ft(T,tt[0]-dt[0]*T,tt[1]-dt[1]*T)}Y.zoom(null,rt)}})}function M(g,A,y){return!y&&g.__zooming||new z(g,A)}function z(g,A){this.that=g,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,A),this.taps=0}z.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,A){return this.mouse&&g!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var A=ft(this.that).datum();u.call(g,this.that,new ch(g,{sourceEvent:this.sourceEvent,target:w,type:g,transform:this.that.__zoom,dispatch:u}),A)}};function R(g,...A){if(!t.apply(this,arguments))return;var y=M(this,A).event(g),S=this.__zoom,H=Math.max(o[0],Math.min(o[1],S.k*Math.pow(2,r.apply(this,arguments)))),U=Xt(g);if(y.wheel)(y.mouse[0][0]!==U[0]||y.mouse[0][1]!==U[1])&&(y.mouse[1]=S.invert(y.mouse[0]=U)),clearTimeout(y.wheel);else{if(S.k===H)return;y.mouse=[U,S.invert(U)],en(this),y.start()}be(g),y.wheel=setTimeout(Y,d),y.zoom("mouse",n(k(x(S,H),y.mouse[0],y.mouse[1]),y.extent,a));function Y(){y.wheel=null,y.end()}}function K(g,...A){if(f||!t.apply(this,arguments))return;var y=g.currentTarget,S=M(this,A,!0).event(g),H=ft(g.view).on("mousemove.zoom",tt,!0).on("mouseup.zoom",lt,!0),U=Xt(g,y),Y=g.clientX,X=g.clientY;Ku(g.view),Wn(g),S.mouse=[U,this.__zoom.invert(U)],en(this),S.start();function tt(j){if(be(j),!S.moved){var ht=j.clientX-Y,mt=j.clientY-X;S.moved=ht*ht+mt*mt>_}S.event(j).zoom("mouse",n(k(S.that.__zoom,S.mouse[0]=Xt(j,y),S.mouse[1]),S.extent,a))}function lt(j){H.on("mousemove.zoom mouseup.zoom",null),Qu(j.view,S.moved),be(j),S.event(j).end()}}function I(g,...A){if(t.apply(this,arguments)){var y=this.__zoom,S=Xt(g.changedTouches?g.changedTouches[0]:g,this),H=y.invert(S),U=y.k*(g.shiftKey?.5:2),Y=n(k(x(y,U),S,H),e.apply(this,A),a);be(g),s>0?ft(this).transition().duration(s).call($,Y,S,g):ft(this).call(w.transform,Y,S,g)}}function D(g,...A){if(t.apply(this,arguments)){var y=g.touches,S=y.length,H=M(this,A,g.changedTouches.length===S).event(g),U,Y,X,tt;for(Wn(g),Y=0;Y<S;++Y)X=y[Y],tt=Xt(X,this),tt=[tt,this.__zoom.invert(tt),X.identifier],H.touch0?!H.touch1&&H.touch0[2]!==tt[2]&&(H.touch1=tt,H.taps=0):(H.touch0=tt,U=!0,H.taps=1+!!c);c&&(c=clearTimeout(c)),U&&(H.taps<2&&(h=tt[0],c=setTimeout(function(){c=null},m)),en(this),H.start())}}function L(g,...A){if(this.__zooming){var y=M(this,A).event(g),S=g.changedTouches,H=S.length,U,Y,X,tt;for(be(g),U=0;U<H;++U)Y=S[U],X=Xt(Y,this),y.touch0&&y.touch0[2]===Y.identifier?y.touch0[0]=X:y.touch1&&y.touch1[2]===Y.identifier&&(y.touch1[0]=X);if(Y=y.that.__zoom,y.touch1){var lt=y.touch0[0],j=y.touch0[1],ht=y.touch1[0],mt=y.touch1[1],rt=(rt=ht[0]-lt[0])*rt+(rt=ht[1]-lt[1])*rt,dt=(dt=mt[0]-j[0])*dt+(dt=mt[1]-j[1])*dt;Y=x(Y,Math.sqrt(rt/dt)),X=[(lt[0]+ht[0])/2,(lt[1]+ht[1])/2],tt=[(j[0]+mt[0])/2,(j[1]+mt[1])/2]}else if(y.touch0)X=y.touch0[0],tt=y.touch0[1];else return;y.zoom("touch",n(k(Y,X,tt),y.extent,a))}}function O(g,...A){if(this.__zooming){var y=M(this,A).event(g),S=g.changedTouches,H=S.length,U,Y;for(Wn(g),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),U=0;U<H;++U)Y=S[U],y.touch0&&y.touch0[2]===Y.identifier?delete y.touch0:y.touch1&&y.touch1[2]===Y.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(Y=Xt(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<C)){var X=ft(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return w.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:Qe(+g),w):r},w.filter=function(g){return arguments.length?(t=typeof g=="function"?g:Qe(!!g),w):t},w.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:Qe(!!g),w):i},w.extent=function(g){return arguments.length?(e=typeof g=="function"?g:Qe([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),w):e},w.scaleExtent=function(g){return arguments.length?(o[0]=+g[0],o[1]=+g[1],w):[o[0],o[1]]},w.translateExtent=function(g){return arguments.length?(a[0][0]=+g[0][0],a[1][0]=+g[1][0],a[0][1]=+g[0][1],a[1][1]=+g[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(g){return arguments.length?(n=g,w):n},w.duration=function(g){return arguments.length?(s=+g,w):s},w.interpolate=function(g){return arguments.length?(l=g,w):l},w.on=function(){var g=u.on.apply(u,arguments);return g===u?w:g},w.clickDistance=function(g){return arguments.length?(_=(g=+g)*g,w):Math.sqrt(_)},w.tapDistance=function(g){return arguments.length?(C=+g,w):C},w}function Ti(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ci(t){let e,n=[],r=new Map,i,o,a=Hr(t[0]);const s=l=>l[1].pid;for(let l=0;l<a.length;l+=1){let u=Ti(t,a,l),c=s(u);r.set(c,n[l]=$i(c,u))}return{c(){e=q("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=V(l,"DIV",{class:!0});var u=ot(e);for(let c=0;c<n.length;c+=1)n[c].l(u);u.forEach(b),this.h()},h(){P(e,"class","items-bar svelte-22wd18")},m(l,u){E(l,e,u);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);o=!0},p(l,u){u&1&&(a=Hr(l[0]),n=Fo(n,u,s,1,l,a,r,e,Ho,$i,null,Ti))},i(l){o||(l&&So(()=>{o&&(i||(i=Ur(e,Ir,{duration:200},!0)),i.run(1))}),o=!0)},o(l){l&&(i||(i=Ur(e,Ir,{duration:200},!1)),i.run(0)),o=!1},d(l){l&&b(e);for(let u=0;u<n.length;u+=1)n[u].d();l&&i&&i.end()}}}function yh(t){let e,n,r,i,o;return{c(){e=q("a"),n=q("img"),this.h()},l(a){e=V(a,"A",{class:!0,href:!0});var s=ot(e);n=V(s,"IMG",{class:!0,src:!0,alt:!0}),s.forEach(b),this.h()},h(){P(n,"class","noevents svelte-22wd18"),rn(n.src,r=wt+"/iiif/"+t[1].pid+"/0/full/256,/0/default.jpg")||P(n,"src",r),P(n,"alt",i=t[1].label),P(e,"class","thumb svelte-22wd18"),P(e,"href",o=wt+"/pages/"+t[1].pid)},m(a,s){E(a,e,s),et(e,n)},p(a,s){s&1&&!rn(n.src,r=wt+"/iiif/"+a[1].pid+"/0/full/256,/0/default.jpg")&&P(n,"src",r),s&1&&i!==(i=a[1].label)&&P(n,"alt",i),s&1&&o!==(o=wt+"/pages/"+a[1].pid)&&P(e,"href",o)},d(a){a&&b(e)}}}function $i(t,e){let n,r,i,o,a=e[1].label+"",s,l,u,c=Xn.pages.iiifViewer&&yh(e);return{key:t,first:null,c(){n=q("div"),c&&c.c(),r=Z(),i=q("a"),o=q("span"),s=kn(a),u=Z(),this.h()},l(h){n=V(h,"DIV",{class:!0});var f=ot(n);c&&c.l(f),r=G(f),i=V(f,"A",{href:!0});var m=ot(i);o=V(m,"SPAN",{});var d=ot(o);s=Tn(d,a),d.forEach(b),m.forEach(b),u=G(f),f.forEach(b),this.h()},h(){P(i,"href",l=wt+"/pages/"+e[1].pid),P(n,"class","work-preview no-select svelte-22wd18"),this.first=n},m(h,f){E(h,n,f),c&&c.m(n,null),et(n,r),et(n,i),et(i,o),et(o,s),et(n,u)},p(h,f){e=h,Xn.pages.iiifViewer&&c.p(e,f),f&1&&a!==(a=e[1].label+"")&&Ni(s,a),f&1&&l!==(l=wt+"/pages/"+e[1].pid)&&P(i,"href",l)},d(h){h&&b(n),c&&c.d()}}}function _h(t){let e,n=t[0].length>0&&Ci(t);return{c(){n&&n.c(),e=on()},l(r){n&&n.l(r),e=on()},m(r,i){n&&n.m(r,i),E(r,e,i)},p(r,[i]){r[0].length>0?n?(n.p(r,i),i&1&&pt(n,1)):(n=Ci(r),n.c(),pt(n,1),n.m(e.parentNode,e)):n&&(No(),_t(n,1,1,()=>{n=null}),Do())},i(r){pt(n)},o(r){_t(n)},d(r){r&&b(e),n&&n.d(r)}}}function vh(t,e,n){let{items:r=[]}=e;return t.$$set=i=>{"items"in i&&n(0,r=i.items)},[r]}class Ao extends ee{constructor(e){super(),ne(this,e,vh,_h,te,{items:0})}}function Ai(t){let e,n,r='<img src="./icons/reset.png" alt="reset"/>',i,o;return{c(){e=q("div"),n=q("button"),n.innerHTML=r,this.h()},l(a){e=V(a,"DIV",{class:!0});var s=ot(e);n=V(s,"BUTTON",{class:!0,"data-svelte-h":!0}),nt(n)!=="svelte-9rp6jw"&&(n.innerHTML=r),s.forEach(b),this.h()},h(){P(n,"class","reset-button"),P(e,"class","network-container-overlay svelte-1rmrcxp")},m(a,s){E(a,e,s),et(e,n),i||(o=pe(n,"click",function(){zo(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(a,s){t=a},d(a){a&&b(e),i=!1,o()}}}function wh(t){let e,n,r,i,o,a,s,l,u=t[0].length>0&&Ai(t);return o=new Ao({props:{items:t[0]}}),{c(){e=q("div"),n=Cn("svg"),r=Z(),u&&u.c(),i=Z(),Mt(o.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0});var h=ot(e);n=$n(h,"svg",{width:!0,class:!0}),ot(n).forEach(b),r=G(h),u&&u.l(h),i=G(h),bt(o.$$.fragment,h),h.forEach(b),this.h()},h(){P(n,"width","100%"),P(n,"class","svelte-1rmrcxp"),P(e,"class","timeline-container svelte-1rmrcxp")},m(c,h){E(c,e,h),et(e,n),t[7](n),et(e,r),u&&u.m(e,null),et(e,i),kt(o,e,null),a=!0,s||(l=pe(window,"resize",t[6]),s=!0)},p(c,[h]){c[0].length>0?u?u.p(c,h):(u=Ai(c),u.c(),u.m(e,i)):u&&(u.d(1),u=null);const f={};h&1&&(f.items=c[0]),o.$set(f)},i(c){a||(pt(o.$$.fragment,c),a=!0)},o(c){_t(o.$$.fragment,c),a=!1},d(c){c&&b(e),t[7](null),u&&u.d(),Tt(o),s=!1,l()}}}function xh(t,e,n){let{dateKey:r}=e,{metadata:i=Ee}=e,o=[];const a={};for(let d of i)a[d[r]]===void 0&&(a[d[r]]={date:new Date(d[r]),data:[]}),a[d[r]].data.push({pid:d.pid,label:d.label});const s=Object.values(a);let l,u;Mn(h);function c(){ft(l).selectAll("g").remove(),h()}function h(){const d=ft(l),_=getComputedStyle(l),C=+_.width.replace("px",""),w=+_.height.replace("px",""),x={h:C*.05,v:w*.2},k=ph().scaleExtent([1,32]).on("zoom",K),N=d.append("g").attr("transform",`translate(${x.h}, ${x.v})`),$=d.append("g"),M=(D,L)=>D.attr("transform",`translate(${x.h},${w*.7})`).call(fr(L).tickFormat((O,g,A)=>{const y=xn("%Y"),S=xn("%m"),H=A.map(U=>U.__data__);return g===0?"..."+y(O):H[g-1].getFullYear()===O.getFullYear()?S(O):y(O)})),z=N.append("g").attr("fill","none").attr("stroke-linecap","round").attr("stroke-width",1),R=th().domain($e(s,D=>D.date)).range([0,C-x.h*2]).nice();d.call(k).call(k.transform,De),I(R);function K({transform:D}){const L=D.rescaleX(R).interpolate(no);$.call(M,L),I(L)}n(2,u=()=>{const D=De.translate(0,0).scale(1);return z.selectAll("circle").attr("stroke-width",1),n(0,o=[]),d.transition().ease(Fl).duration(500).call(k.transform,D),$o(d.node())});function I(D){const L=z.selectAll("circle").data(s).join("circle").attr("cx",O=>D(O.date)).attr("cy",x.v).attr("r",10).attr("stroke","var(--accent2)").attr("fill","var(--accent1)").attr("cursor","pointer");L.on("click",function(O,g){n(0,o=g.data);const A=ft(O.target);L.attr("stroke-width",1),A.attr("stroke-width",4)})}}const f=()=>{c()};function m(d){bn[d?"unshift":"push"](()=>{l=d,n(1,l)})}return t.$$set=d=>{"dateKey"in d&&n(4,r=d.dateKey),"metadata"in d&&n(5,i=d.metadata)},[o,l,u,c,r,i,f,m]}class Mh extends ee{constructor(e){super(),ne(this,e,xh,wh,te,{dateKey:4,metadata:5})}}function bh(t){let e,n,r,i;return{c(){e=q("div"),n=Cn("svg"),this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var a=ot(e);n=$n(a,"svg",{width:!0,class:!0}),ot(n).forEach(b),a.forEach(b),this.h()},h(){P(n,"width","100%"),P(n,"class","svelte-y2v6ki"),P(e,"class","viz-container svelte-y2v6ki"),lr(e,"--height",t[1])},m(o,a){E(o,e,a),et(e,n),t[7](n),r||(i=pe(window,"resize",t[6]),r=!0)},p:At,i:At,o:At,d(o){o&&b(e),t[7](null),r=!1,i()}}}function kh(t,e,n){let{key:r}=e,{metadata:i=Ee}=e,{top:o=10}=e;const a={};for(let d of i)a[d[r]]===void 0&&(a[d[r]]={key:d[r],count:0}),a[d[r]].count++;let s=Object.values(a).sort((d,_)=>Di(d.count,_.count));o!==void 0&&(s=s.slice(0,o));const l=s.length*70;let u;Mn(h);function c(){ft(u).selectAll("g").remove(),h()}function h(){const d=ft(u),_=getComputedStyle(u),C=+_.width.replace("px",""),w=+_.height.replace("px",""),x={h:C*.2,v:w*.1},N=d.append("g").attr("transform",`translate(${x.h}, ${x.v})`).append("g"),$=_o().domain(s.map(I=>I.key)).range([0,w-x.v*2]).padding(.33),M=yn().domain([0,un(s,I=>I.count)]).range([0,C-x.h*2]).nice(),z=fr(M);d.append("g").attr("transform",`translate(${x.h},${w-x.v})`).call(z);const R=Ri($);d.append("g").attr("transform",`translate(${x.h},${x.v})`).call(R),K();function K(){N.selectAll("rect").data(s).join("rect").attr("x",0).attr("y",I=>$(I.key)).attr("width",I=>M(I.count)).attr("height",$.bandwidth()).attr("fill","var(--accent2)")}}const f=()=>{c()};function m(d){bn[d?"unshift":"push"](()=>{u=d,n(0,u)})}return t.$$set=d=>{"key"in d&&n(3,r=d.key),"metadata"in d&&n(4,i=d.metadata),"top"in d&&n(5,o=d.top)},[u,l,c,r,i,o,f,m]}class Th extends ee{constructor(e){super(),ne(this,e,kh,bh,te,{key:3,metadata:4,top:5})}}function Ch(t){let e,n,r,i;return{c(){e=q("div"),n=Cn("svg"),this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var a=ot(e);n=$n(a,"svg",{width:!0,class:!0}),ot(n).forEach(b),a.forEach(b),this.h()},h(){P(n,"width","100%"),P(n,"class","svelte-13z1waq"),P(e,"class","viz-container svelte-13z1waq"),lr(e,"--height",300)},m(o,a){E(o,e,a),et(e,n),t[5](n),r||(i=pe(window,"resize",t[4]),r=!0)},p:At,i:At,o:At,d(o){o&&b(e),t[5](null),r=!1,i()}}}function $h(t,e,n){let{key:r}=e,{metadata:i=Ee}=e;const o=i.map(h=>{const f={...h};return f[r]=+f[r],f});let a;Mn(l);function s(){ft(a).selectAll("g").remove(),l()}function l(){const h=ft(a),f=getComputedStyle(a),m=+f.width.replace("px",""),d=+f.height.replace("px",""),_={h:m*.2,v:d*.1},C=$e(o,I=>I[r]),x=oa().domain(C).value(I=>I[r]).thresholds(aa)(o),N=h.append("g").attr("transform",`translate(${_.h}, ${_.v})`).append("g"),$=yn().domain(C).range([0,m-_.h*2]),M=yn().domain([0,un(x,I=>I.length)]).range([d-_.v*2,0]),z=fr($);h.append("g").attr("transform",`translate(${_.h},${d-_.v})`).call(z);const R=Ri(M);h.append("g").attr("transform",`translate(${_.h},${_.v})`).call(R),K();function K(){N.selectAll("rect").data(x).join("rect").attr("transform",I=>`translate(${$(I.x0)} , ${M(I.length)})`).attr("width",I=>$(I.x1)-$(I.x0)-1).attr("height",I=>d-_.v*2-M(I.length)).attr("fill","var(--accent2)")}}const u=()=>{s()};function c(h){bn[h?"unshift":"push"](()=>{a=h,n(0,a)})}return t.$$set=h=>{"key"in h&&n(2,r=h.key),"metadata"in h&&n(3,i=h.metadata)},[a,s,r,i,u,c]}class Ah extends ee{constructor(e){super(),ne(this,e,$h,Ch,te,{key:2,metadata:3})}}function Si(t){let e,n,r='<img src="./icons/reset.png" alt="reset"/>',i,o;return{c(){e=q("div"),n=q("button"),n.innerHTML=r,this.h()},l(a){e=V(a,"DIV",{class:!0});var s=ot(e);n=V(s,"BUTTON",{class:!0,"data-svelte-h":!0}),nt(n)!=="svelte-ujund3"&&(n.innerHTML=r),s.forEach(b),this.h()},h(){P(n,"class","reset-button"),P(e,"class","network-container-overlay svelte-18nu962")},m(a,s){E(a,e,s),et(e,n),i||(o=pe(n,"click",t[3]),i=!0)},p:At,d(a){a&&b(e),i=!1,o()}}}function Sh(t){let e,n,r,i,o,a,s,l,u=t[0].length>0&&Si(t);return o=new Ao({props:{items:t[0]}}),{c(){e=q("div"),n=Cn("svg"),r=Z(),u&&u.c(),i=Z(),Mt(o.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0,style:!0});var h=ot(e);n=$n(h,"svg",{width:!0,class:!0}),ot(n).forEach(b),r=G(h),u&&u.l(h),i=G(h),bt(o.$$.fragment,h),h.forEach(b),this.h()},h(){P(n,"width","100%"),P(n,"class","svelte-18nu962"),P(e,"class","viz-container svelte-18nu962"),lr(e,"--height",t[2])},m(c,h){E(c,e,h),et(e,n),t[8](n),et(e,r),u&&u.m(e,null),et(e,i),kt(o,e,null),a=!0,s||(l=pe(window,"resize",t[7]),s=!0)},p(c,[h]){c[0].length>0?u?u.p(c,h):(u=Si(c),u.c(),u.m(e,i)):u&&(u.d(1),u=null);const f={};h&1&&(f.items=c[0]),o.$set(f)},i(c){a||(pt(o.$$.fragment,c),a=!0)},o(c){_t(o.$$.fragment,c),a=!1},d(c){c&&b(e),t[8](null),u&&u.d(),Tt(o),s=!1,l()}}}function zh(t,e,n){let{keys:r}=e,{metadata:i=Ee}=e,o=[],a;const s=h(i),l=Mr(s).sum(x=>x.value),u=l.leaves().length*35;function c(){n(0,o=[]),a.attr("stroke-width",1)}function h(x){const k=[];for(let z of r)k.push(R=>R[z]);const N=Go(x,z=>z.length,...k),$={name:"",children:M(N)};function M(z){const R=[];for(let K of z){const I={name:K[0]};typeof K[1]=="number"?I.value=K[1]:Array.isArray(K[1])&&(I.children=M(K[1])),R.push(I)}return R}return $}let f;Mn(_);function m(x){let k=x;const N=[];for(let z=0;z<x.depth;z++){const R={key:r[k.depth-1],value:k.data.name,depth:k.depth};N.push(R),k=k.parent}const $=z=>{let R=!0;for(let K of N)if(z[K.key]!==K.value){R=!1;break}return R};return i.filter(z=>$(z))}function d(){ft(f).selectAll("g").remove(),_()}function _(){const x=ft(f),k=getComputedStyle(f),N=+k.width.replace("px",""),$=+k.height.replace("px",""),M={h:N*.1,v:10},z=7,R=x.append("g").attr("transform",`translate(${M.h}, ${M.v})`);Tc().size([$-M.v*2,N-M.h*4])(l),I();function I(){R.append("g").attr("fill","none").attr("stroke","black").attr("stroke-width",1).selectAll("path").data(l.links()).join("path").attr("d",lh(ah).x(L=>L.y).y(L=>L.x));const D=R.append("g").selectAll("g").data(l.descendants()).join("g").attr("transform",L=>`translate(${L.y},${L.x})`);a=D.append("circle").attr("stroke","var(--accent2)").attr("fill","var(--accent1)").attr("cursor","pointer").attr("r",z).attr("stroke-width",1),a.on("click",function(L,O){n(0,o=m(O));const g=ft(L.target);a.attr("stroke-width",1),g.attr("stroke-width",4)}),D.append("text").text(L=>L.data.name).attr("font-size",7+N/150).attr("text-anchor",L=>L.children?"end":"start").attr("paint-order","stroke").attr("stroke","var(--fill)").attr("stroke-width",6).attr("x",L=>L.children?-z-4:z+4).attr("dy","0.32em")}}const C=()=>{d()};function w(x){bn[x?"unshift":"push"](()=>{f=x,n(1,f)})}return t.$$set=x=>{"keys"in x&&n(5,r=x.keys),"metadata"in x&&n(6,i=x.metadata)},[o,f,u,c,d,r,i,C,w]}class Nh extends ee{constructor(e){super(),ne(this,e,zh,Sh,te,{keys:5,metadata:6})}}function Dh(t){let e,n="Recorrido por la colección",r,i,o="Esta colección reúne un conjunto de performances realizadas por el artista <strong>Rosemberg Sandoval</strong>, cuyo trabajo se caracteriza por explorar los límites del cuerpo, la memoria y los contextos sociales marcados por la violencia, el dolor y la marginalidad. A través de acciones cargadas de simbolismo y materiales inusuales—desde vísceras humanas hasta mugre, lenguas o ropa usada—Sandoval cuestiona las estructuras de poder, el olvido institucional y las heridas invisibles de la historia.",a,s,l="Cada performance documentada aquí no solo es un acto estético, sino también un gesto político. La selección refleja la evolución de su práctica artística a lo largo de varias décadas, desde intervenciones en espacios públicos hasta acciones realizadas en museos y morgues. Este recorrido invita a adentrarse en un territorio incómodo pero necesario, donde el arte se convierte en testimonio y resistencia.",u,c,h="La obra de Rosemberg Sandoval se articula alrededor de gestos profundos que interpelan la condición humana en contextos de crisis social. A continuación, se presentan cuatro ejes curatoriales que permiten agrupar y leer sus performances según las tensiones conceptuales que las recorren:",f,m,d="Muerte",_,C,w="Actos que confrontan la mortalidad y utilizan restos humanos o símbolos orgánicos para interrumpir el espacio social, cuestionando los límites entre lo sagrado, lo político y lo desechable.",x,k,N,$,M="Violencia",z,R,K="Performances que materializan la agresión estructural e histórica a través de gestos simbólicos, donde el cuerpo del artista o de otros se convierte en testimonio de un orden social fracturado.",I,D,L,O,g="Dolor",A,y,S="Acciones que exploran el sufrimiento físico y emocional como experiencia límite, utilizando la automutilación, la sangre y el ritual para hacer visible lo que normalmente permanece oculto.",H,U,Y,X,tt="Marginalidad",lt,j,ht="Obras que visibilizan a los excluidos interviniendo espacios institucionales con materiales considerados <em>profanos</em>, como mugre o ropa usada, para criticar la indiferencia social.",mt,rt,dt,T,W="Frecuencia de obras por gesto conceptual",B,v,ct="Este gráfico de barras cuantifica la presencia de los cuatro gestos curatoriales principales: <em>Muerte, Violencia, Dolor y Marginalidad</em> en la colección documentada de performances. La distribución visual refleja los énfasis temáticos recurrentes en la práctica artística de Rosemberg Sandoval, permitiendo identificar de un vistazo los conceptos que han definido su trayectoria y que articulan su cuestionamiento sobre el cuerpo, la memoria y los límites sociales.",J,it,ut,gt,ye="Distribución temporal de las performances",Ie,Rt,Ar="Este histograma muestra la frecuencia de obras realizadas por año, revelando los periodos de mayor producción artística en la trayectoria de <em>Rosemberg Sandoval</em>. La distribución temporal permite identificar momentos clave de creación, pausas y la evolución cronológica de su trabajo, ofreciendo una perspectiva histórica sobre la continuidad y los intervalos entre sus intervenciones.",Le,Yt,Re,Pt,Sr="Mapa conceptual de la obra",Ye,Ot,zr="Este árbol genealógico organiza visualmente la producción artística de <em>Rosemberg Sandoval</em> a través de cuatro capas de información: el artista como raíz, su evolución temporal, los gestos conceptuales que definen su obra y las performances específicas como frutos finales. La estructura permite rastrear cómo se relacionan cronología, temas y obras concretas, revelando patrones creativos y la consistencia de su exploración conceptual a lo largo del tiempo.",Pe,qt,Oe,Vt,Nr="Línea de tiempo de las performances",qe,Wt,Dr="Esta línea de tiempo despliega cronológicamente la trayectoria performática de <em>Rosemberg Sandoval</em>, permitiendo observar la evolución, frecuencia y posibles agrupaciones temáticas de sus obras a lo largo de las décadas. La visualización destaca los periodos de mayor actividad creativa y ofrece una perspectiva diacrónica para comprender la continuidad y transformación de sus estrategias conceptuales y gestos artísticos en el tiempo.",Ve,Bt,We;return k=new Be({props:{pid:"001_10 de marzo_13x18_A",title:"Muerte"}}),D=new Be({props:{pid:"006_Bolivar_ahora_13x18",title:"Violencia"}}),U=new Be({props:{pid:"006_Yage_13x18_A",title:"Dolor"}}),rt=new Be({props:{pid:"008_Mugre_13x18_A",title:"Marginalidad"}}),it=new Th({props:{key:"gesto"}}),Yt=new Ah({props:{key:"fecha"}}),qt=new Nh({props:{keys:["autor","fecha","gesto","label"]}}),Bt=new Mh({props:{dateKey:"fecha"}}),{c(){e=q("h2"),e.textContent=n,r=Z(),i=q("p"),i.innerHTML=o,a=Z(),s=q("p"),s.textContent=l,u=Z(),c=q("p"),c.textContent=h,f=Z(),m=q("h1"),m.textContent=d,_=Z(),C=q("p"),C.textContent=w,x=Z(),Mt(k.$$.fragment),N=Z(),$=q("h1"),$.textContent=M,z=Z(),R=q("p"),R.textContent=K,I=Z(),Mt(D.$$.fragment),L=Z(),O=q("h1"),O.textContent=g,A=Z(),y=q("p"),y.textContent=S,H=Z(),Mt(U.$$.fragment),Y=Z(),X=q("h1"),X.textContent=tt,lt=Z(),j=q("p"),j.innerHTML=ht,mt=Z(),Mt(rt.$$.fragment),dt=Z(),T=q("h2"),T.textContent=W,B=Z(),v=q("p"),v.innerHTML=ct,J=Z(),Mt(it.$$.fragment),ut=Z(),gt=q("h2"),gt.textContent=ye,Ie=Z(),Rt=q("p"),Rt.innerHTML=Ar,Le=Z(),Mt(Yt.$$.fragment),Re=Z(),Pt=q("h2"),Pt.textContent=Sr,Ye=Z(),Ot=q("p"),Ot.innerHTML=zr,Pe=Z(),Mt(qt.$$.fragment),Oe=Z(),Vt=q("h2"),Vt.textContent=Nr,qe=Z(),Wt=q("p"),Wt.innerHTML=Dr,Ve=Z(),Mt(Bt.$$.fragment)},l(p){e=V(p,"H2",{"data-svelte-h":!0}),nt(e)!=="svelte-e5yrog"&&(e.textContent=n),r=G(p),i=V(p,"P",{"data-svelte-h":!0}),nt(i)!=="svelte-1udg6j4"&&(i.innerHTML=o),a=G(p),s=V(p,"P",{"data-svelte-h":!0}),nt(s)!=="svelte-1or43kt"&&(s.textContent=l),u=G(p),c=V(p,"P",{"data-svelte-h":!0}),nt(c)!=="svelte-11bs41a"&&(c.textContent=h),f=G(p),m=V(p,"H1",{"data-svelte-h":!0}),nt(m)!=="svelte-1aypocu"&&(m.textContent=d),_=G(p),C=V(p,"P",{"data-svelte-h":!0}),nt(C)!=="svelte-drj8dz"&&(C.textContent=w),x=G(p),bt(k.$$.fragment,p),N=G(p),$=V(p,"H1",{"data-svelte-h":!0}),nt($)!=="svelte-1r6wvz6"&&($.textContent=M),z=G(p),R=V(p,"P",{"data-svelte-h":!0}),nt(R)!=="svelte-zj8ggp"&&(R.textContent=K),I=G(p),bt(D.$$.fragment,p),L=G(p),O=V(p,"H1",{"data-svelte-h":!0}),nt(O)!=="svelte-ce3wj4"&&(O.textContent=g),A=G(p),y=V(p,"P",{"data-svelte-h":!0}),nt(y)!=="svelte-s4gsa6"&&(y.textContent=S),H=G(p),bt(U.$$.fragment,p),Y=G(p),X=V(p,"H1",{"data-svelte-h":!0}),nt(X)!=="svelte-it5a4r"&&(X.textContent=tt),lt=G(p),j=V(p,"P",{"data-svelte-h":!0}),nt(j)!=="svelte-12wllr3"&&(j.innerHTML=ht),mt=G(p),bt(rt.$$.fragment,p),dt=G(p),T=V(p,"H2",{"data-svelte-h":!0}),nt(T)!=="svelte-1ur3mda"&&(T.textContent=W),B=G(p),v=V(p,"P",{"data-svelte-h":!0}),nt(v)!=="svelte-1cxgq83"&&(v.innerHTML=ct),J=G(p),bt(it.$$.fragment,p),ut=G(p),gt=V(p,"H2",{"data-svelte-h":!0}),nt(gt)!=="svelte-utr5kn"&&(gt.textContent=ye),Ie=G(p),Rt=V(p,"P",{"data-svelte-h":!0}),nt(Rt)!=="svelte-3dnhq4"&&(Rt.innerHTML=Ar),Le=G(p),bt(Yt.$$.fragment,p),Re=G(p),Pt=V(p,"H2",{"data-svelte-h":!0}),nt(Pt)!=="svelte-11hz153"&&(Pt.textContent=Sr),Ye=G(p),Ot=V(p,"P",{"data-svelte-h":!0}),nt(Ot)!=="svelte-1mf8kt4"&&(Ot.innerHTML=zr),Pe=G(p),bt(qt.$$.fragment,p),Oe=G(p),Vt=V(p,"H2",{"data-svelte-h":!0}),nt(Vt)!=="svelte-wflkj4"&&(Vt.textContent=Nr),qe=G(p),Wt=V(p,"P",{"data-svelte-h":!0}),nt(Wt)!=="svelte-tnt19g"&&(Wt.innerHTML=Dr),Ve=G(p),bt(Bt.$$.fragment,p)},m(p,F){E(p,e,F),E(p,r,F),E(p,i,F),E(p,a,F),E(p,s,F),E(p,u,F),E(p,c,F),E(p,f,F),E(p,m,F),E(p,_,F),E(p,C,F),E(p,x,F),kt(k,p,F),E(p,N,F),E(p,$,F),E(p,z,F),E(p,R,F),E(p,I,F),kt(D,p,F),E(p,L,F),E(p,O,F),E(p,A,F),E(p,y,F),E(p,H,F),kt(U,p,F),E(p,Y,F),E(p,X,F),E(p,lt,F),E(p,j,F),E(p,mt,F),kt(rt,p,F),E(p,dt,F),E(p,T,F),E(p,B,F),E(p,v,F),E(p,J,F),kt(it,p,F),E(p,ut,F),E(p,gt,F),E(p,Ie,F),E(p,Rt,F),E(p,Le,F),kt(Yt,p,F),E(p,Re,F),E(p,Pt,F),E(p,Ye,F),E(p,Ot,F),E(p,Pe,F),kt(qt,p,F),E(p,Oe,F),E(p,Vt,F),E(p,qe,F),E(p,Wt,F),E(p,Ve,F),kt(Bt,p,F),We=!0},p:At,i(p){We||(pt(k.$$.fragment,p),pt(D.$$.fragment,p),pt(U.$$.fragment,p),pt(rt.$$.fragment,p),pt(it.$$.fragment,p),pt(Yt.$$.fragment,p),pt(qt.$$.fragment,p),pt(Bt.$$.fragment,p),We=!0)},o(p){_t(k.$$.fragment,p),_t(D.$$.fragment,p),_t(U.$$.fragment,p),_t(rt.$$.fragment,p),_t(it.$$.fragment,p),_t(Yt.$$.fragment,p),_t(qt.$$.fragment,p),_t(Bt.$$.fragment,p),We=!1},d(p){p&&(b(e),b(r),b(i),b(a),b(s),b(u),b(c),b(f),b(m),b(_),b(C),b(x),b(N),b($),b(z),b(R),b(I),b(L),b(O),b(A),b(y),b(H),b(Y),b(X),b(lt),b(j),b(mt),b(dt),b(T),b(B),b(v),b(J),b(ut),b(gt),b(Ie),b(Rt),b(Le),b(Re),b(Pt),b(Ye),b(Ot),b(Pe),b(Oe),b(Vt),b(qe),b(Wt),b(Ve)),Tt(k,p),Tt(D,p),Tt(U,p),Tt(rt,p),Tt(it,p),Tt(Yt,p),Tt(qt,p),Tt(Bt,p)}}}function Eh(t){let e,n;const r=[t[0],zi];let i={$$slots:{default:[Dh]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=Bn(i,r[o]);return e=new Uo({props:i}),{c(){Mt(e.$$.fragment)},l(o){bt(e.$$.fragment,o)},m(o,a){kt(e,o,a),n=!0},p(o,[a]){const s=a&1?Eo(r,[a&1&&Fr(o[0]),a&0&&Fr(zi)]):{};a&2&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){n||(pt(e.$$.fragment,o),n=!0)},o(o){_t(e.$$.fragment,o),n=!1},d(o){Tt(e,o)}}}const zi={name:"tour",layout:"page"};function Uh(t,e,n){return t.$$set=r=>{n(0,e=Bn(Bn({},e),Er(r)))},e=Er(e),[e]}class qh extends ee{constructor(e){super(),ne(this,e,Uh,Eh,te,{})}}export{qh as component};
